{"ast":null,"code":"var _jsxFileName = \"E:\\\\webprojects\\\\reactp\\\\cashregister\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport firebase from './FIrebase';\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport Header from './components/Header';\nimport Datetime from './components/Datetime';\nimport Form from \"./components/Form\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [d, setd] = useState(new Date());\n  const [date, setdate] = useState(\"\");\n  const [month, setmonth] = useState(\"\");\n  const [year, setyear] = useState(\"\");\n  const [hours, sethours] = useState(\"\");\n  const [minutes, setminutes] = useState(\"\");\n  const [tz, settz] = useState(\"\");\n  const [link, setlink] = useState(\"\");\n  useEffect(() => {\n    var timerID = setInterval(() => tick(), 1000);\n    return function cleanup() {\n      clearInterval(timerID);\n    };\n  });\n\n  function tick() {\n    setd(new Date());\n\n    if (parseInt(d.getDate()) < 10) {\n      setdate(\"0\" + d.getDate());\n    } else {\n      setdate(d.getDate());\n    }\n\n    setmonth(d.getMonth() + 1);\n    setyear(d.getFullYear());\n    let h = d.getHours();\n\n    if (parseInt(h) === 0) {\n      settz(\"am\");\n      sethours(\"12\");\n    } else if (parseInt(h) > 12) {\n      settz(\"pm\");\n      sethours(parseInt(h) - 12);\n    } else if (parseInt(h) === 12) {\n      settz(\"pm\");\n      sethours(\"12\");\n    } else {\n      settz(\"am\");\n      sethours(h);\n    }\n\n    let m = d.getMinutes();\n\n    if (parseInt(m) < 10) {\n      setminutes(\"0\" + m);\n    } else {\n      setminutes(m);\n    }\n  }\n\n  const [bal, setbal] = useState(0);\n  const [amount, setamount] = useState(\"\");\n  const [remarks, setremarks] = useState(\"\");\n  const [ttype, setttype] = useState(\"\");\n  const [photo, setphoto] = useState(null);\n\n  const handlefile = e => {\n    setphoto(e.target.files[0]);\n  };\n\n  const handleamount = e => {\n    setamount(e.target.value);\n  };\n\n  const handleremarks = e => {\n    setremarks(e.target.value);\n  };\n\n  const handlettype = e => {\n    setttype(e.target.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (ttype === \"credit\") {\n      let a = parseInt(amount);\n      setbal(bal - a);\n    } else if (ttype === \"debit\") {\n      let a = parseInt(amount);\n      setbal(bal + a);\n    }\n\n    const uploadTask = storage.ref(`images/${photo.name}`).put(photo);\n    uploadTask.on(\"state_changed\", snapshot => {}, error => {\n      console.log(error);\n    }, () => {\n      storage.ref(\"images\").child(photo.name).getDownloadURL().then(url => {\n        setlink(url);\n      });\n    });\n    const firestore = firebase.database().ref(\"/UserInfo\");\n    let data = {\n      amount: amount,\n      remarks: remarks,\n      type: ttype,\n      date: date,\n      month: month,\n      year: year,\n      hours: hours,\n      minutes: minutes,\n      tz: tz,\n      link: link\n    };\n    firestore.push(data);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Datetime, {\n      date: date,\n      month: month,\n      year: year,\n      hours: hours,\n      minutes: minutes,\n      tz: tz\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      bal: bal,\n      remarks: remarks,\n      amount: amount,\n      handleamount: handleamount,\n      handleSubmit: handleSubmit,\n      handleremarks: handleremarks,\n      ttype: ttype,\n      handlettype: handlettype,\n      photo: photo,\n      handlefile: handlefile\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 128,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"dwu7aC6YPrAnRhfZA+NK9Pvfc84=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["E:/webprojects/reactp/cashregister/src/App.js"],"names":["React","useState","useEffect","firebase","Header","Datetime","Form","App","d","setd","Date","date","setdate","month","setmonth","year","setyear","hours","sethours","minutes","setminutes","tz","settz","link","setlink","timerID","setInterval","tick","cleanup","clearInterval","parseInt","getDate","getMonth","getFullYear","h","getHours","m","getMinutes","bal","setbal","amount","setamount","remarks","setremarks","ttype","setttype","photo","setphoto","handlefile","e","target","files","handleamount","value","handleremarks","handlettype","handleSubmit","preventDefault","a","uploadTask","storage","ref","name","put","on","snapshot","error","console","log","child","getDownloadURL","then","url","firestore","database","data","type","push"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react'\nimport './App.css';\nimport firebase from './FIrebase'\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\n\nimport Header from './components/Header'\nimport Datetime from './components/Datetime'\nimport Form from \"./components/Form\"\nfunction App() {\n  \n  const[d,setd]=useState(new Date());\n  const[date,setdate]=useState(\"\");\n  const[month,setmonth]=useState(\"\");\n  const[year,setyear]=useState(\"\");\n  const[hours,sethours]=useState(\"\");\n  const[minutes,setminutes]=useState(\"\");\n  const[tz,settz]=useState(\"\");\n  const[link,setlink]=useState(\"\");\n   useEffect(()=>{\n     var timerID=setInterval(()=>tick(),1000);\n     return function cleanup(){\n       clearInterval(timerID);\n     }\n   })\n   function tick(){\n     setd(new Date());\n     if(parseInt(d.getDate())<10){\n       setdate(\"0\"+d.getDate());\n     }\n     else{\n       setdate(d.getDate());\n     }\n     setmonth(d.getMonth()+1);\n     setyear(d.getFullYear());\n     let h=d.getHours();\n     if(parseInt(h)===0){\n       settz(\"am\");\n       sethours(\"12\")\n     }\n     else if(parseInt(h)>12){\n         settz(\"pm\");\n         sethours(parseInt(h)-12);\n     }\n     else if(parseInt(h)===12){\n       settz(\"pm\");\n       sethours(\"12\");\n     }\n     else{\n       settz(\"am\");\n       sethours(h);\n     }\n     let m=d.getMinutes();\n     if(parseInt(m)<10){\n       setminutes(\"0\"+m);\n     }\n     else{\n       setminutes(m);\n     }\n\n   }\n\n  const[bal,setbal]=useState(0);\n  const[amount,setamount]=useState(\"\");\n  const[remarks,setremarks]=useState(\"\"); \n  const[ttype,setttype]=useState(\"\");\n  const[photo,setphoto]=useState(null);\n  const handlefile=(e)=>{\n    setphoto(e.target.files[0]);\n  }\n  \n  const handleamount=(e)=>{\n    setamount(e.target.value);\n  }\n  const handleremarks=(e)=>{\n     setremarks(e.target.value);\n  }\n  const handlettype=(e)=>{\n     setttype(e.target.value);\n  }\n  const handleSubmit=(e)=>{\n    e.preventDefault();\n    if(ttype===\"credit\"){\n      let a=parseInt(amount);\n      setbal(bal-a);\n    }\n    else if(ttype===\"debit\"){\n      let a=parseInt(amount);\n      setbal(bal+a);\n    }\n    const uploadTask=storage.ref(`images/${photo.name}`).put(photo);\n    uploadTask.on(\n      \"state_changed\",\n      snapshot=>{},\n      error=>{\n        console.log(error);\n      },\n      ()=>{\n        storage\n        .ref(\"images\")\n        .child(photo.name)\n        .getDownloadURL()\n        .then(url=>{\n          setlink(url)\n        })\n\n      }\n    )\n    \n    const firestore=firebase.database().ref(\"/UserInfo\");\n    let data={\n      amount:amount,\n      remarks:remarks,\n      type:ttype,\n      date:date,\n      month:month,\n      year:year,\n      hours:hours,\n      minutes:minutes,\n      tz:tz,\n      link:link\n    }\n    \n    firestore.push(data);\n    \n    \n  }\n  return (\n    <div>\n        <Header/> \n        <Datetime date={date} month={month} year={year} hours={hours} minutes={minutes} tz={tz}/>\n        <Form bal={bal} remarks={remarks} amount={amount} handleamount={handleamount}\n          handleSubmit={handleSubmit} handleremarks={handleremarks}  ttype={ttype} handlettype={handlettype} \n           photo={photo} handlefile={handlefile} />\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}